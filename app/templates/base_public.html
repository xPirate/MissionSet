<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>{{ BRAND.name }}</title>
  <link rel="stylesheet" href="/static/styles.css">
  <style>
    :root { --accent: {{ BRAND.primary }}; }
    .public-header{display:flex;align-items:center;gap:12px;justify-content:space-between;margin-bottom:16px}
    .public-brand{display:flex;align-items:center;gap:10px;font-weight:700}
    .brand-logo{height:28px;width:auto}
    .public-container{max-width:1100px;margin:0 auto;padding:20px}
    .public-footer{margin-top:24px;padding-top:12px;border-top:1px solid var(--border);display:flex;justify-content:space-between;align-items:center;color:var(--muted);font-size:14px}
    .theme-btn{padding:8px 12px;border:1px solid var(--border);background:transparent;color:var(--text);border-radius:8px;cursor:pointer}
  </style>
  <script>(function(){try{if(localStorage.getItem('ms-theme')==='dark')document.documentElement.classList.add('dark')}catch(e){}})();</script>
</head>
<body>
  <div class="public-container">
    <header class="public-header">
      <div class="public-brand">
        {% if BRAND.logo_url %}
          <img src="{{ BRAND.logo_url }}" alt="{{ BRAND.name }}" class="brand-logo">
        {% endif %}
        <span>{{ BRAND.name }}</span>
      </div>
      <button id="themeToggle" class="theme-btn">ðŸŒ“</button>
    </header>

    <main>
      {% block content %}{% endblock %}
    </main>

    <footer class="public-footer">
      <span>{{ BRAND.tagline }}</span>
      <a href="{{ BRAND.footer_url }}" target="_blank" rel="noopener">{{ BRAND.footer_text }}</a>
    </footer>
  </div>

  <script>
    const t=document.getElementById('themeToggle');
    if(t){t.addEventListener('click',()=>{const r=document.documentElement;const d=r.classList.toggle('dark');try{localStorage.setItem('ms-theme',d?'dark':'light')}catch(e){}})}
  </script>
</body>
</html>
