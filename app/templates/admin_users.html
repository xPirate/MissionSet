
{% extends "base.html" %}
{% block content %}
<h1 class="page-title">Manage Users</h1>
<div class="card">
  <p><a href="/admin/users/new">+ New user</a></p>
  <table>
    <thead><tr><th>ID</th><th>Username</th><th>Name</th><th>Admin</th><th>Active</th><th>Actions</th></tr></thead>
    <tbody>
      {% for u in users %}
      <tr>
        <td>{{ u.id }}</td>
        <td>{{ u.username }}</td>
        <td>{{ u.name }}</td>
        <td>{{ 'Yes' if u.is_admin else 'No' }}</td>
        <td>{{ 'Yes' if u.is_active else 'No' }}</td>
        <td class="actions">
          <form method="post" action="/admin/users/{{ u.id }}/toggle_admin"><button type="submit">{{ 'Revoke admin' if u.is_admin else 'Make admin' }}</button></form>
          <form method="post" action="/admin/users/{{ u.id }}/toggle_active"><button type="submit">{{ 'Deactivate' if u.is_active else 'Activate' }}</button></form>
        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>
{% endblock %}
